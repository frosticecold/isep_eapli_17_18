 ____________

 DESIGN
 ______________


* Utilizar a estrutura base standard da aplicação baseada em camadas

	Classes do dominio : POS, DeliveryMealSession, Booking, AvailableMealsStatistics
	Controlador : RegisterMealMealDeliveryController
	UserInterface : RegisterMealDeliveryUI
	Lista : DeliveryRegistry (DeliveryMealSeesion)
	Repositorios : BookingsRepository, ExecutionRepository
	PersistenceContext : RepositoryFactory

- Sequence Diagram


title SD Register Meal Delivery

":MainMenuUI" -> ":RegisterMealDeliveryUI" : create(pos)
":RegisterMealDeliveryUI"-> ":RegisterMealDeliveryController" : create(pos)
":RegisterMealDeliveryUI" -> ":RegisterMealDeliveryController" : showCurrentStatics(session)
":RegisterMealDeliveryController" -> ":AvailableMealsStatistics" : create(ca, sessionType)
":RegisterMealDeliveryController" -> ":RegisterMealDeliveryUI" : listCurrentStatics()
":MainMenuUI" -> ":RegisterMealDeliveryUI" : registerNewMealDelivery(idUser, idBooking)
":RegisterMealDeliveryUI" -> ":RegisterMealDeliveryController" : registerNewMealDelivery(idUser, idBooking)
":RegisterMealDeliveryController" -> ":POS" : deliveryMealSession = getDeliveryMealSession(pos)
":RegisterMealDeliveryController" -> ":DeliveryMealSession" : recordNewMealDelivery(idUser, idBooking)
":DeliveryMealSession" -> ":DeliveryRegistry" : addNewDelivery(idUser, idBooking)
":RegisterMealDeliveryController" -> ":PersistenceContext" : repositories()
":PersistenceContext" -> ":RepositoryFactory" : bookingsRepo = getBookingsRepository()
":RegisterMealDeliveryController" -> ":BookingsRepository" : changeState(idBooking, bookingsRepo)
":BookingsRepository" -> ":Booking" : changeState()
":RegisterMealDeliveryController" -> ":PersistenceContext" : repositories()
":PersistenceContext" -> ":RepositoryFactory" : getExecutionRepository()
":RegisterMealDeliveryController" -> "ExecutionRepository" : updateQuantities(idExecution)